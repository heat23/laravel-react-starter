# ============================================================================
# {{APP_NAME}} - ENVIRONMENT CONFIGURATION
# ============================================================================
#
# LOCAL (development):
#   APP_ENV=local
#   APP_URL=http://{{APP_DOMAIN}}.test
#   DB_CONNECTION=sqlite
#
# PRODUCTION:
#   APP_ENV=production
#   APP_DEBUG=false
#   APP_URL=https://www.{{APP_DOMAIN}}
#   DB_CONNECTION=mysql
#   SESSION_ENCRYPT=true
#   SESSION_SECURE_COOKIE=true
#
# ============================================================================

APP_NAME="{{APP_NAME}}"
APP_ENV=local
APP_KEY=
APP_DEBUG=true
APP_URL=http://localhost

# ============================================================================
# FEATURE FLAGS
# ============================================================================
# Toggle optional modules without code changes
# ============================================================================

# Billing (requires laravel/cashier + Stripe credentials)
FEATURE_BILLING=false

# Social Auth (requires laravel/socialite + OAuth credentials)
FEATURE_SOCIAL_AUTH=false

# Email Verification (requires mail configuration)
FEATURE_EMAIL_VERIFICATION=true

# API Tokens (uses Laravel Sanctum)
FEATURE_API_TOKENS=true

# User Settings (theme, timezone preferences)
FEATURE_USER_SETTINGS=true

# In-App Notifications (bell icon, unread count, mark-as-read)
FEATURE_NOTIFICATIONS=false

# Onboarding Wizard (first-run experience for new users)
# When enabling on an existing deployment, seed existing users:
# php artisan tinker --execute="App\Models\User::each(fn(\$u) => \$u->setSetting('onboarding_completed', now()->toISOString()));"
FEATURE_ONBOARDING=false

# API Documentation (interactive docs at /docs, requires knuckleswtf/scribe)
FEATURE_API_DOCS=false

# Two-Factor Authentication (TOTP-based, requires laragear/two-factor)
FEATURE_TWO_FACTOR=false

# Webhooks (incoming processing + outgoing delivery)
FEATURE_WEBHOOKS=false

# Admin Panel (user management, health monitoring, audit logs, system info)
FEATURE_ADMIN=false

# ============================================================================
# DATABASE
# ============================================================================

# Local: SQLite (default) - zero configuration
DB_CONNECTION=sqlite

# Production: MySQL
# DB_CONNECTION=mysql
# DB_HOST=127.0.0.1
# DB_PORT=3306
# DB_DATABASE={{PROJECT_NAME}}
# DB_USERNAME=root
# DB_PASSWORD=

# ============================================================================
# SESSION, CACHE & QUEUE
# ============================================================================

# Local: database (works with SQLite)
# Production: Use redis for all three (requires Redis server + Horizon)
#   SESSION_DRIVER=redis
#   QUEUE_CONNECTION=redis
#   CACHE_STORE=redis
# NOTE: database cache driver means every Cache::remember() is a DB query.
# Switch to redis in production for actual caching benefit.
# Queue: PersistAuditLog job requires a running worker (php artisan queue:work).
# With redis, use Horizon (setup: scripts/setup-horizon.sh).

SESSION_DRIVER=database
SESSION_LIFETIME=120
SESSION_ENCRYPT=false

# Remember Me Duration (days) - How long "Keep me signed in" lasts
REMEMBER_ME_DAYS=30

BROADCAST_CONNECTION=log
QUEUE_CONNECTION=database
CACHE_STORE=database

# Redis Configuration (for production)
# REDIS_HOST=127.0.0.1
# REDIS_PASSWORD=null
# REDIS_PORT=6379

# ============================================================================
# MAIL
# ============================================================================
# LOCAL: Mailpit (Laravel Herd default) on localhost:1025
# PREVIEW/PRODUCTION: Configure SMTP or service (Postmark, SES, Resend)
#
# Local Setup (Laravel Herd):
#   - Mailpit runs automatically at http://localhost:8025
#   - Catches all outgoing mail for testing
#
# Production:
#   - Configure SMTP credentials or use a service like Postmark/Resend
#   - Set MAIL_MAILER=smtp and configure host/port/credentials
# ============================================================================

MAIL_MAILER=smtp
MAIL_SCHEME=null
# MAIL_HOST=127.0.0.1
MAIL_PORT=1025
MAIL_USERNAME=null
MAIL_PASSWORD=null
MAIL_ENCRYPTION=null
MAIL_FROM_ADDRESS="support@example.com"
MAIL_FROM_NAME="${APP_NAME}"
# SUPPORT_EMAIL="support@{{APP_DOMAIN}}"
# SUPPORT_NAME="{{APP_NAME}} Support"

# ============================================================================
# LOGGING
# ============================================================================

LOG_CHANNEL=stack
LOG_DEPRECATIONS_CHANNEL=null
LOG_LEVEL=debug

# ============================================================================
# VITE
# ============================================================================

VITE_APP_NAME="${APP_NAME}"

# CORS - Allowed origins (comma-separated for multiple)
CORS_ALLOWED_ORIGINS=http://localhost:5173

# ============================================================================
# BILLING (Optional - requires FEATURE_BILLING=true)
# ============================================================================
# Get keys from: https://dashboard.stripe.com/apikeys
# Create prices at: https://dashboard.stripe.com/products

# STRIPE_KEY=pk_test_your-publishable-key
# STRIPE_SECRET=sk_test_your-secret-key
# STRIPE_WEBHOOK_SECRET=whsec_your-webhook-secret

# Price IDs for subscription tiers
# STRIPE_PRICE_PRO=price_your-pro-monthly-price-id
# STRIPE_PRICE_PRO_ANNUAL=price_your-pro-annual-price-id

# Trial Configuration
# TRIAL_ENABLED=false
# TRIAL_DAYS=14
# PRO_TIER_COMING_SOON=true

# ============================================================================
# SOCIAL AUTH (Optional - requires FEATURE_SOCIAL_AUTH=true)
# ============================================================================

# Google OAuth
# Create app at: https://console.cloud.google.com/apis/credentials
# GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# GOOGLE_CLIENT_SECRET=your-google-client-secret

# GitHub OAuth
# Create app at: https://github.com/settings/developers
# GITHUB_CLIENT_ID=your-github-client-id
# GITHUB_CLIENT_SECRET=your-github-client-secret

# ============================================================================
# API TOKENS (Optional - requires FEATURE_API_TOKENS=true)
# ============================================================================

# API_TOKENS_MAX_FREE=1
# API_TOKENS_MAX_PRO=10
# SANCTUM_TOKEN_EXPIRATION=

# ============================================================================
# PLAN LIMITS (Only used when FEATURE_BILLING=true)
# ============================================================================

# Free Tier
# PLAN_FREE_PROJECTS=3
# PLAN_FREE_ITEMS=50
# PLAN_FREE_API_TOKENS=1
# PLAN_FREE_HISTORY_DAYS=30

# Pro Tier
# PLAN_PRO_PRICE_MONTHLY=19
# PLAN_PRO_PRICE_ANNUAL=190
# PLAN_PRO_API_TOKENS=10
# PLAN_PRO_HISTORY_DAYS=365

# ============================================================================
# ANALYTICS & MONITORING (Production Only)
# ============================================================================

# Google Analytics 4
# Get your Measurement ID from: https://analytics.google.com
# Format: G-XXXXXXXXXX
# GOOGLE_ANALYTICS_ID=

# Sentry Error Tracking
# Get your DSN from: https://sentry.io > Settings > Projects > Client Keys (DSN)
#
# Backend DSN (PHP/Laravel)
# SENTRY_LARAVEL_DSN=
#
# Frontend DSN (JavaScript/React) - exposed via Vite
# VITE_SENTRY_DSN=
#
# Sampling rate for performance tracing (0.0 to 1.0)
# 0.1 = 10% of transactions (recommended for production)
# 1.0 = 100% (development/debugging)
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# ============================================================================
# SECURITY HEADERS
# ============================================================================

# Content Security Policy (opt-in)
# PRODUCTION: Set CSP_ENABLED=true to enable Content Security Policy headers
CSP_ENABLED=false
# Set CSP_REPORT_ONLY=false in production to enforce CSP (not just report violations)
CSP_REPORT_ONLY=true
# CSP_REPORT_URI=

# ============================================================================
# HEALTH CHECK
# ============================================================================

# HEALTH_CHECK_TOKEN=
# HEALTH_CHECK_IPS=127.0.0.1
# DISK_USAGE_WARNING_PERCENT=80
# DISK_USAGE_CRITICAL_PERCENT=95
# QUEUE_WARNING_THRESHOLD=1000

# ============================================================================
# AUDIT LOG
# ============================================================================

AUDIT_LOG_RETENTION_DAYS=90

# ============================================================================
# TRUSTED PROXIES
# ============================================================================
# Configure when behind a load balancer, CDN, or reverse proxy.
# Without this, request()->ip() returns the proxy IP, breaking rate limiting
# and audit logs.
#
# Format: Comma-separated IPs, CIDR ranges, or '*' for all
# Default: empty (trust no proxies - secure by default)
#
# Examples:
#   Cloudflare:  TRUSTED_PROXIES=*
#   AWS ALB:     TRUSTED_PROXIES=10.0.0.0/8,172.16.0.0/12
#   nginx local: TRUSTED_PROXIES=127.0.0.1
#
# TRUSTED_PROXIES=
# TRUSTED_PROXY_HEADERS=HEADER_X_FORWARDED_ALL
